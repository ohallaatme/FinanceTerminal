#:import rgba kivy.utils.get_color_from_hex
#:import utils kivy.utils

## Main Menu Screen
<MenuScreen>:

    name: "MenuScreen"

    GridLayout:
        cols: 1
        Label:
            # Need to think of name, play on Bloomberg terminal/freedom of info?
            # play on occupy wall street?
            text: "Snowden Terminal"
            font_size: 30
            text_size: self.size
            halign: "center"
            valign: "middle"
            canvas.before:
                Color:  
                    # dark indigo
                    rgba: utils.get_color_from_hex("#23273c")
                Rectangle:
                    pos: self.pos
                    size: self.size
        
        GridLayout:
            cols: 2
            GridLayout:
                cols: 1
                padding: [10, 10, 5, 5]
                Button:
                    text: "Financial Statement Analysis"
                    color: 0, 0, 0, 1
                    font_size: 20
                    text_size: self.size
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    # light turquoise
                    background_color: utils.get_color_from_hex("#33cccc")
                    on_release: root.hit_fin_stmt_analysis()


            GridLayout:
                cols: 1
                padding: [5, 10, 10, 5]
                Button:
                    text: "Company Overview & Annual Report Text Analysis"
                    color: 0, 0, 0, 1
                    font_size: 20
                    text_size: self.size
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    background_color: utils.get_color_from_hex("#33cccc")
                    on_release: root.hit_co_overview()

            GridLayout:
                cols: 1
                padding: [10, 5, 5, 10]
                Button:
                    text: "Time Series Analysis"
                    color: 0, 0, 0, 1
                    font_size: 20
                    text_size: self.size
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    background_color: utils.get_color_from_hex("#33cccc")
                    on_release: root.hit_ts_analysis()

            GridLayout:
                cols: 1
                padding: [5, 5, 10, 10]
                Button:
                    text: "Educational Info"
                    color: 0, 0, 0, 1
                    font_size: 20
                    text_size: self.size
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    background_color: utils.get_color_from_hex("#33cccc")
                    on_release: root.hit_edu_info()

## --- Sub Menu Screens ---
<FinStmtAnalysis>:
    GridLayout:
        cols: 1
        Label:
            text: "Financial Statement Analysis"
            font_size: 30
            text_size: self.size
            halign: "center"
            valign: "middle"
            canvas.before:
                Color:  
                    # dark indigo
                    rgba: utils.get_color_from_hex("#23273c")
                Rectangle:
                    pos: self.pos
                    size: self.size

        GridLayout:
            cols: 2
            GridLayout:
                cols: 1
                padding: [10, 10, 5, 5]
                Button:
                    text: "Select Companies"
                    color: 0, 0, 0, 1
                    font_size: 20
                    text_size: self.size
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    background_color: utils.get_color_from_hex("#33cccc")
                    on_release: root.hit_select_cos()
            
            GridLayout:
                cols: 1
                padding: [5, 10, 10, 5]
                Button:
                    text: "Income Statement Scorecard"
                    color: 0, 0, 0, 1
                    font_size: 20
                    text_size: self.size
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    background_color: utils.get_color_from_hex("#33cccc")
                    on_release: root.hit_is_scorecard()
                
            GridLayout:
                cols: 1
                padding: [10, 5, 5, 5]
                Button:
                    text: "Balance Sheet Scorecard"
                    color: 0, 0, 0, 1
                    font_size: 20
                    text_size: self.size
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    background_color: utils.get_color_from_hex("#33cccc")
                    on_release: root.hit_bs_scorecard()

            GridLayout:
                cols: 1
                padding: [5, 5, 10, 5]
                Button:
                    text: "Cash Flows Scorecard"
                    color: 0, 0, 0, 1
                    font_size: 20
                    text_size: self.size
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    background_color: utils.get_color_from_hex("#33cccc")
                    on_release: root.hit_cf_scorecard()

            GridLayout:
                cols: 1
                padding: [10, 5, 5, 10]
                Button:
                    text: "Sector Scorecard"
                    color: 0, 0, 0, 1
                    font_size: 20
                    text_size: self.size
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    background_color: utils.get_color_from_hex("#33cccc")
                    on_release: root.hit_sector_scorecard()

            GridLayout:
                cols: 1
                padding: [5, 5, 10, 10]
                Button:
                    text: "Return to Menu"
                    color: 0, 0, 0, 1
                    font_size: 20
                    text_size: self.size
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    # pinkish red
                    background_color: utils.get_color_from_hex("FF5460")
                    on_release: root.hit_return_menu()

# TODO - Need to make this layout better
<CoOverview>:
    # global variables
    name: "CoOverview"
    ticker: ticker

    BoxLayout:
        orientation: "horizontal"
        
        BoxLayout:
            orientation: "vertical"

            Label: 
                text: "Company Overview"
                font_size: 20
                text_size: self.size
                halign: "center"
                valign: "middle"
                canvas.before:
                    Color: 
                        rgba: utils.get_color_from_hex("#23273c")
                    Rectangle:
                        pos: self.pos
                        size: self.size

            Label:
                text: "Enter the ticker (symbol) of the company you would like to pull statistics for below (e.g. MSFT for Microsoft). [b]Click 'Set Ticker' to confirm.[/b]"
                font_size: 15
                text_size: self.size
                markup: True
                padding_x: 5
                halign: "left"
                valign: "middle"
                canvas.before:
                    Color: 
                        rgba: utils.get_color_from_hex("#23273c")
                    Rectangle:
                        pos: self.pos
                        size: self.size

            BoxLayout:
                orientation: "vertical"
                
                GridLayout:
                    cols: 1
                    padding: [2, 2, 2, 1]
                    TextInput:
                        id: ticker
                        multiline: False
                
                GridLayout:
                    cols: 1
                    padding: [2, 1, 2, 2]
                    Button:
                        text: "Set Ticker" 
                        color: 0, 0, 0, 1
                        font_size: 20
                        text_size: self.size
                        halign: "center"
                        valign: "middle"
                        background_normal: ''
                        background_color: utils.get_color_from_hex("#41dc65")
                        on_release: root.hit_set_ticker()
        GridLayout:
            cols: 1
            GridLayout:
                cols: 1
                padding: [2, 2, 2, 1]
                Button:
                    text: "View Key Stats"
                    color: 0, 0, 0, 1
                    text_size: self.size
                    font_size: 20
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    background_color: utils.get_color_from_hex("#33cccc")
                    on_release: root.hit_key_stats()
                
            GridLayout:
                cols: 1
                padding: [2, 1, 2, 1]
                Button:
                    text: "View Industry Comparison"
                    color: 0, 0, 0, 1
                    text_size: self.size
                    font_size: 20
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    background_color: utils.get_color_from_hex("#33cccc")
                    on_release: root.hit_industry_comparison()

            GridLayout:
                cols: 1
                padding: [2, 1, 2, 1]
                Button:
                    text: "View Proc 3"
                    color: 0, 0, 0, 1
                    text_size: self.size
                    font_size: 20
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    background_color: utils.get_color_from_hex("#33cccc")
                    on_release: root.hit_proc_3()

            GridLayout:
                cols: 1
                padding: [2, 1, 2, 1]
                Button:
                    text: "View Proc 4"
                    color: 0, 0, 0, 1
                    text_size: self.size
                    font_size: 20
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    background_color: utils.get_color_from_hex("#33cccc")
                    on_release: root.hit_proc_4()

            GridLayout:
                cols: 1
                padding: [2, 1, 2, 2]
                Button:
                    text: "Return to Main Menu"
                    color: 0, 0, 0, 1
                    text_size: self.size
                    font_size: 20
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    background_color: utils.get_color_from_hex("#33cccc")
                    on_release: root.hit_return_menu()

## --- Financial Statement Analysis SubScreens
<CompanySelection>:
    # object properties for selecting companies
    co_1: co_1
    co_2: co_2
    co_3: co_3
    co_4: co_4
    co_5: co_5
    co_6: co_6
    co_7: co_7
    co_8: co_8
    co_9: co_9
    co_10: co_10

    BoxLayout:
        orientation: "horizontal"
        size: root.width, root.height

        GridLayout:
            cols: 1
            Label:
                text: "Company Selection"
                font_size: 30
                text_size: self.size
                font: "Arial"
                halign: "center"
                valign: "middle"
                canvas.before:
                    Color:  
                        # dark indigo
                        rgba: utils.get_color_from_hex("#23273c")
                    Rectangle:
                        pos: self.pos
                        size: self.size
            GridLayout:
                cols: 1
                padding: [10, 10, 10, 5]
                Button:
                    text: "Go Back"
                    color: 0, 0, 0, 1
                    font_size: 20
                    text_size: self.size
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    # pinkish red
                    background_color: utils.get_color_from_hex("FF5460")
                    on_release: root.hit_back()

            GridLayout:
                cols: 1
                padding: [10, 5, 10, 10]
                Button:
                    text: "Set Company Selection"
                    color: 0, 0, 0, 1
                    font_size: 20
                    text_size: self.size
                    halign: "center"
                    valign: "middle"
                    background_normal: ''
                    # pinkish red
                    background_color: utils.get_color_from_hex("FF5460")
                    on_release: root.hit_save_symbols()

        GridLayout: 
            cols: 1
            BoxLayout:
                orientation: "vertical"
                Label:
                    text_size: self.size
                    padding_x: 5
                    halign: "center"
                    valign: "middle"
                    # TODO: Create Button to Search Tickers
                    text: "Enter the Tickers of Companies to Analyze (e.g. for Apple Inc enter AAPL)"
                    canvas.before:
                        Color:
                            rgba: utils.get_color_from_hex("#23273c")
                        Rectangle:
                            pos: self.pos
                            size: self.size

                GridLayout:
                    cols: 2
                    
                    GridLayout:
                        cols: 1
                        padding: [2, 2, 1, 1]
                        Label:
                            text: "Company 1: "
                            color: 0, 0, 0, 1
                            text_size: self.size
                            padding_x: 5
                            halign: "left"
                            valign: "middle"
                            canvas.before:
                                Color:
                                    rgba: utils.get_color_from_hex("#33cccc")
                                Rectangle:
                                    pos: self.pos
                                    size: self.size

                    GridLayout:
                        cols: 1
                        padding: [1, 2, 2, 1]
                        TextInput:
                            id: co_1
                            multiline: False


                    GridLayout:
                        cols: 1
                        padding: [2, 1, 1, 1]
                        Label:
                            text: "Company 2: "
                            color: 0, 0, 0, 1
                            text_size: self.size
                            padding_x: 5
                            halign: "left"
                            valign: "middle"
                            canvas.before:
                                Color:
                                    rgba: utils.get_color_from_hex("#33cccc")
                                Rectangle:
                                    pos: self.pos
                                    size: self.size

                    GridLayout:
                        cols: 1
                        padding: [1, 1, 2, 1]
                        TextInput:
                            id: co_2
                            multiline: False
                            
                    GridLayout:
                        cols: 1
                        padding: [2, 1, 1, 1]
                        Label:
                            text: "Company 3: "
                            color: 0, 0, 0, 1
                            text_size: self.size
                            padding_x: 5
                            halign: "left"
                            valign: "middle"
                            canvas.before:
                                Color:
                                    rgba: utils.get_color_from_hex("#33cccc")
                                Rectangle:
                                    pos: self.pos
                                    size: self.size

                    GridLayout:
                        cols: 1
                        padding: [1, 1, 2, 1]
                        TextInput:
                            id: co_3
                            multiline: False

                    GridLayout:
                        cols: 1
                        padding: [2, 1, 1, 1]
                        Label:
                            text: "Company 4: "
                            color: 0, 0, 0, 1
                            text_size: self.size
                            padding_x: 5
                            halign: "left"
                            valign: "middle"
                            canvas.before:
                                Color:
                                    rgba: utils.get_color_from_hex("#33cccc")
                                Rectangle:
                                    pos: self.pos
                                    size: self.size

                    GridLayout:
                        cols: 1
                        padding: [1, 1, 2, 1]
                        TextInput:
                            id: co_4
                            multiline: False
                    GridLayout:
                        cols: 1
                        padding: [2, 1, 1, 1]
                        Label:
                            text: "Company 5: "
                            color: 0, 0, 0, 1
                            text_size: self.size
                            padding_x: 5
                            halign: "left"
                            valign: "middle"
                            canvas.before:
                                Color:
                                    rgba: utils.get_color_from_hex("#33cccc")
                                Rectangle:
                                    pos: self.pos
                                    size: self.size

                    GridLayout:
                        cols: 1
                        padding: [1, 1, 2, 1]
                        TextInput:
                            id: co_5
                            multiline: False

                    GridLayout:
                        cols: 1
                        padding: [2, 1, 1, 1]
                        Label:
                            text: "Company 6: "
                            color: 0, 0, 0, 1
                            text_size: self.size
                            padding_x: 5
                            halign: "left"
                            valign: "middle"
                            canvas.before:
                                Color:
                                    rgba: utils.get_color_from_hex("#33cccc")
                                Rectangle:
                                    pos: self.pos
                                    size: self.size

                    GridLayout:
                        cols: 1
                        padding: [1, 1, 2, 1]
                        TextInput:
                            id: co_6
                            multiline: False

                    GridLayout:
                        cols: 1
                        padding: [2, 1, 1, 1]
                        Label:
                            text: "Company 7: "
                            color: 0, 0, 0, 1
                            text_size: self.size
                            padding_x: 5
                            halign: "left"
                            valign: "middle"
                            canvas.before:
                                Color:
                                    rgba: utils.get_color_from_hex("#33cccc")
                                Rectangle:
                                    pos: self.pos
                                    size: self.size

                    GridLayout:
                        cols: 1
                        padding: [1, 1, 2, 1]
                        TextInput:
                            id: co_7
                            multiline: False

                    GridLayout:
                        cols: 1
                        padding: [2, 1, 1, 1]
                        Label:
                            text: "Company 8: "
                            color: 0, 0, 0, 1
                            text_size: self.size
                            padding_x: 5
                            halign: "left"
                            valign: "middle"
                            canvas.before:
                                Color:
                                    rgba: utils.get_color_from_hex("#33cccc")
                                Rectangle:
                                    pos: self.pos
                                    size: self.size

                    GridLayout:
                        cols: 1
                        padding: [1, 1, 2, 1]
                        TextInput:
                            id: co_8
                            multiline: False

                    GridLayout:
                        cols: 1
                        padding: [2, 1, 1, 1]
                        Label:
                            text: "Company 9: "
                            color: 0, 0, 0, 1
                            text_size: self.size
                            padding_x: 5
                            halign: "left"
                            valign: "middle"
                            canvas.before:
                                Color:
                                    rgba: utils.get_color_from_hex("#33cccc")
                                Rectangle:
                                    pos: self.pos
                                    size: self.size

                    GridLayout:
                        cols: 1
                        padding: [1, 1, 2, 1]
                        TextInput:
                            id: co_9
                            multiline: False

                    GridLayout:
                        cols: 1
                        padding: [2, 1, 1, 2]
                        Label:
                            text: "Company 10: "
                            color: 0, 0, 0, 1
                            text_size: self.size
                            padding_x: 5
                            halign: "left"
                            valign: "middle"
                            canvas.before:
                                Color:
                                    rgba: utils.get_color_from_hex("#33cccc")
                                Rectangle:
                                    pos: self.pos
                                    size: self.size

                    GridLayout:
                        cols: 1
                        padding: [1, 1, 2, 2]
                        TextInput:
                            id: co_10
                            multiline: False

## --- Company Overview Screens
<CoStats>:
    # TODO: PICKUP HERE UI WISE 11.30.2020
    ticker_layout: ticker_layout